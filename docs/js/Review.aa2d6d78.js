(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Review"],{"59a9":function(t,e,i){"use strict";i.d(e,"j",(function(){return o})),i.d(e,"g",(function(){return r})),i.d(e,"f",(function(){return a})),i.d(e,"h",(function(){return d})),i.d(e,"e",(function(){return s})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return f})),i.d(e,"i",(function(){return v}));var n=i("65b5");function o(t){return n["a"].post("/api/todo/saveTodoList",t)}function r(t){return n["a"].get("/api/todo/getTodoList",t)}function a(t){return n["a"].get("/api/todo/getTodoDetail",{id:t})}function d(t){return n["a"].get("/api/todo/getTodoListByDay",{day:t})}function s(){return n["a"].get("/api/todo/getReviewTodoList")}function u(t){return n["a"].get("/api/todo/getFinishedTodoList",t)}function c(t){return n["a"].get("/api/todo/getRecycleTodoList",t)}function l(t){return n["a"].delete("/api/todo/deleteTodo",t)}function f(t){return n["a"].delete("/api/todo/deleteTodoToRecycle",t)}function v(t){return n["a"].put("/api/todo/rebackTodoToRecycle",t)}},"5e8f":function(t,e,i){"use strict";i.r(e);i("4de4"),i("96cf");var n=i("1da1"),o=i("ed6f"),r=i.n(o),a=i("59a9");e["default"]={name:"Review",data:function(){return{todoList:[],loading:!1,visible:!1,todoDetail:{},taskData:{}}},computed:{ratioText:function(){var t=this.taskData.rate;return t<=3?"低":t<=4?"中":"高"}},methods:{getReviewTodoList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(a["e"])();case 3:i=e.sent,t.loading=!1,0===i.code&&(t.taskData=i.result.task,t.todoList=i.result.list);case 6:case"end":return e.stop()}}),e)})))()},handleCheck:function(t){var e=t.id,i=t.isFinished;this.todoList=this.todoList.filter((function(t){return t.id!==e})),i?this.todoList.push(t):this.todoList.unshift(t)},handleGoDetail:function(t){this.$router.push({name:"TodoDetailView",params:{id:t.id}})},handleUpdate:function(t){var e=t.visible;this.visible=e},handleDelete:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.id,i.next=3,Object(a["b"])(n);case 3:o=i.sent,0===o.code&&(e.$toast.success("删除成功"),e.todoList=e.todoList.filter((function(t){return t.id!==n})));case 5:case"end":return i.stop()}}),i)})))()}},mounted:function(){this.getReviewTodoList()},render:function(){var t=arguments[0],e=this.$data,i=e.todoList,n=e.taskData,o=e.loading;return t("EContainer",[t("EHeader",{attrs:{title:this.$route.meta.title,type:"menu"}}),t("EAside"),t("EContent",[t("div",{class:r.a.reviewHeader},[t("div",{class:r.a.rateBox},[t("van-rate",{attrs:{value:n.rate,color:"#f5222d",allowHalf:!0}})]),t("div",{class:r.a.reviewBox},[t("div",{class:r.a.reviewBoxItem},["本周完成：",t("span",[n.finishCount])]),t("div",{class:r.a.reviewBoxItem},["本周评分：",n.rate&&t("span",[n.rate,"星"])]),t("div",{class:r.a.reviewBoxItem},["本周效率：",n.rate&&t("span",[this.ratioText])])])]),t("van-divider",{class:"divider"},["完成任务"]),t("ETodoCard",{attrs:{loading:o,todoList:i},on:{check:this.handleCheck,goDetail:this.handleGoDetail,del:this.handleDelete}})]),t("EFooter")])}}},ed6f:function(t,e,i){t.exports={reviewHeader:"index-module_reviewHeader_25gEp",rateBox:"index-module_rateBox_2uZ9w",reviewBox:"index-module_reviewBox_274Xm",reviewBoxItem:"index-module_reviewBoxItem_3bw-x"}}}]);
//# sourceMappingURL=Review.aa2d6d78.js.map